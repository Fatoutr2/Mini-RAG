import { createContext, useContext, useEffect, useMemo, useState } from "react";

const STORAGE_KEY = "app_lang";

const messages = {
  fr: {
    menuToggle: "Ouvrir/Fermer le menu",
    rag: "RAG",
    chat: "Chat",
    darkMode: "Mode sombre",
    lightMode: "Mode clair",
    roleAdmin: "ADMIN",
    roleMember: "MEMBRE",
    language: "Langue",
    profile: "Profil",
    settings: "ParamÃ¨tres",
    profileMenu: "Menu profil",
    myAccount: "Mon Compte",
    back: "Retour",
    personalInfo: "Informations personnelles",
    profileInfo: "Informations de profil",
    profileInfoHint: "Mettez Ã  jour vos informations personnelles ici.",
    firstName: "PrÃ©nom",
    lastName: "Nom",
    street: "Rue",
    houseNumber: "NumÃ©ro de maison",
    postalCode: "Code postal",
    loginAction: "Se connecter",
    cancel: "Annuler",
    loginError: "Erreur login",
    networkError: "Erreur rÃ©seau ou serveur",
    landingHome: "Accueil",
    landingServices: "Services",
    landingAbout: "Ã€ propos",
    landingContact: "Contact",
    landingLogin: "Connexion",
    landingHeroTitle: "Bienvenue chez SmartIA",
    landingHeroSubtitle: "Votre assistant intelligent basÃ© sur lâ€™IA pour rechercher, comprendre et rÃ©pondre Ã  vos questions en temps rÃ©el.",
    landingStart: "Commencez",
    landingServicesTitle: "Nos services",
    landingService1: "DÃ©veloppement Web (Front & Back)",
    landingService2: "Logiciels & Plateformes SaaS",
    landingService3: "DÃ©veloppement Mobile",
    landingService4: "Architecture Technique",
    landingService5: "SÃ©curitÃ© Informatique",
    landingService6: "Analyse & Solutions IA",
    landingService7: "Conseil & IngÃ©nierie",
    landingService8: "Maintenance & Optimisation",
    landingAboutTitle: "Ã€ propos de SmartIA",
    landingAboutP1: "est une entreprise spÃ©cialisÃ©e dans les solutions dâ€™intelligence artificielle, le dÃ©veloppement logiciel et lâ€™accompagnement technologique.",
    landingAboutP2: "Notre mission est dâ€™aider les entreprises Ã  exploiter le potentiel du numÃ©rique grÃ¢ce Ã  des solutions fiables, sÃ©curisÃ©es et innovantes.",
    landingStat1: "ans dâ€™expertise",
    landingStat2: "projets rÃ©alisÃ©s",
    landingStat3: "satisfaction client",
    landingContactTitle: "Contactez-nous",
    landingEmail: "Email",
    landingPhone: "TÃ©lÃ©phone",
    landingAddress: "Adresse",
    landingRights: "Tous droits rÃ©servÃ©s",
    visitorModalTitle: "Assistant virtuel",
    visitorGreeting: "Salut ðŸ‘‹ðŸ»! Comment puis-je vous aider ðŸ™‚ ?",
    visitorConnectRequired: "Veuillez vous connecter pour poser une question.",
    visitorLoading: "RÃ©ponse en cours...",
    visitorPlaceholderSmartIA: "Posez votre question sur SmartIAâ€¦",
    visitorPlaceholderQuestion: "Posez votre questionâ€¦",

    newChat: "Nouveau chat",
    creating: "CrÃ©ation...",
    searchChat: "Rechercher chat",
    yourChats: "VOS CHATS",
    rename: "Renommer",
    delete: "Supprimer",
    deleteChatConfirm: "Supprimer ce chat ?",
    newTitlePrompt: "Nouveau titre",
    uploadImpossible: "Upload impossible",
    uploadDoneIn: "Fichier dÃ©posÃ© dans",
    addFile: "Ajouter fichier",
    uploadProgress: "Upload...",
    logout: "DÃ©connexion",
    destinationPrompt: "Destination ? Tapez public ou private",
    destinationInvalid: "Destination invalide. Utilisez public ou private.",
    adminAccess: "AccÃ¨s",
    adminMembers: "Membres",
    adminAdmins: "Admins",

    loadMessagesError: "Impossible de charger les messages",
    uploadFileError: "Upload fichier impossible",
    serverError: "Erreur serveur",
    askHelpTitle: "Comment puis-je vous aider aujourd'hui ?",
    askHelpSubtitle: "Posez des questions sur vos documents ou discutez librement avec SmartIA.",
    analyzeDoc: "Analyser un document",
    analyzeDocHint: "Chargez un PDF puis posez des questions ciblÃ©es.",
    fullFile: "Donner un fichier complet",
    fullFileHint: "Demandez Â« donne-moi le fichier complet NOM_FICHIER Â».",
    attachedFiles: "Fichiers joints",
    sendMessage: "Envoyer un message...",
    createChatFirst: "CrÃ©ez un nouveau chat d'abord...",
    addFileAria: "Ajouter un fichier",

    accessTitle: "ðŸ”‘ AccÃ¨s",
    accessSubtitle: "CrÃ©er des utilisateurs et gÃ©rer tous les accÃ¨s.",
    addUser: "Ajouter un utilisateur",
    email: "Email",
    password: "Mot de passe",
    active: "Actif",
    add: "Ajouter",
    usersList: "Tous les utilisateurs",
    searchUsers: "Rechercher un utilisateur",
    userDetails: "DÃ©tails utilisateur",
    noUsersFound: "Aucun utilisateur trouvÃ©.",
    actions: "Actions",
    edit: "Modifier",
    changeRole: "Changer rÃ´le",
    enableAccess: "Activer accÃ¨s",
    disableAccess: "DÃ©sactiver accÃ¨s",
    yes: "Oui",
    no: "Non",
    accessConfirm: "Voulez-vous {action} l'accÃ¨s de {email} ?",
    rolePrompt: "Nouveau rÃ´le: member/admin/visitor",
    emailPrompt: "Nouvel email",
    deleteUserConfirm: "Supprimer {email} ?",

    filesManagement: "Gestion des fichiers (RAG)",
    searchFiles: "Rechercher un fichier",
    refresh: "Actualiser",
    loading: "Chargement...",
    file: "Fichier",
    visibility: "VisibilitÃ©",
    sizeBytes: "Taille (bytes)",
    updatedAt: "Mis Ã  jour",
    noFilesFound: "Aucun fichier trouvÃ©.",
    renameFilePrompt: "Nouveau nom du fichier",
    deleteFileConfirm: "Supprimer le fichier {filename} ?",
  },
  en: {
    menuToggle: "Open/Close menu",
    rag: "RAG",
    chat: "Chat",
    darkMode: "Dark mode",
    lightMode: "Light mode",
    roleAdmin: "ADMIN",
    roleMember: "MEMBER",
    language: "Language",
    profile: "Profile",
    settings: "Settings",
    profileMenu: "Profile menu",
    myAccount: "My account",
    back: "Back",
    personalInfo: "Personal information",
    profileInfo: "Profile information",
    profileInfoHint: "Update your personal information here.",
    firstName: "First name",
    lastName: "Last name",
    street: "Street",
    houseNumber: "House number",
    postalCode: "Postal code",
    loginAction: "Sign in",
    cancel: "Cancel",
    loginError: "Login error",
    networkError: "Network or server error",
    landingHome: "Home",
    landingServices: "Services",
    landingAbout: "About",
    landingContact: "Contact",
    landingLogin: "Login",
    landingHeroTitle: "Welcome to SmartIA",
    landingHeroSubtitle: "Your AI-powered assistant to search, understand, and answer your questions in real time.",
    landingStart: "Get started",
    landingServicesTitle: "Our services",
    landingService1: "Web Development (Front & Back)",
    landingService2: "Software & SaaS Platforms",
    landingService3: "Mobile Development",
    landingService4: "Technical Architecture",
    landingService5: "Cybersecurity",
    landingService6: "AI Analysis & Solutions",
    landingService7: "Consulting & Engineering",
    landingService8: "Maintenance & Optimization",
    landingAboutTitle: "About SmartIA",
    landingAboutP1: "is a company specialized in artificial intelligence solutions, software development, and technology support.",
    landingAboutP2: "Our mission is to help businesses unlock digital potential through reliable, secure, and innovative solutions.",
    landingStat1: "years of expertise",
    landingStat2: "projects delivered",
    landingStat3: "client satisfaction",
    landingContactTitle: "Contact us",
    landingEmail: "Email",
    landingPhone: "Phone",
    landingAddress: "Address",
    landingRights: "All rights reserved",
    visitorModalTitle: "Virtual assistant",
    visitorGreeting: "Hi ðŸ‘‹ðŸ»! How can I help you ðŸ™‚ ?",
    visitorConnectRequired: "Please sign in to ask a question.",
    visitorLoading: "Response in progress...",
    visitorPlaceholderSmartIA: "Ask your question about SmartIAâ€¦",
    visitorPlaceholderQuestion: "Ask your questionâ€¦",

    newChat: "New chat",
    creating: "Creating...",
    searchChat: "Search chats",
    yourChats: "YOUR CHATS",
    rename: "Rename",
    delete: "Delete",
    deleteChatConfirm: "Delete this chat?",
    newTitlePrompt: "New title",
    uploadImpossible: "Upload failed",
    uploadDoneIn: "File uploaded in",
    addFile: "Add file",
    uploadProgress: "Upload...",
    logout: "Logout",
    destinationPrompt: "Destination? Type public or private",
    destinationInvalid: "Invalid destination. Use public or private.",
    adminAccess: "Access",
    adminMembers: "Members",
    adminAdmins: "Admins",

    loadMessagesError: "Unable to load messages",
    uploadFileError: "File upload failed",
    serverError: "Server error",
    askHelpTitle: "How can I help you today?",
    askHelpSubtitle: "Ask questions about your documents or chat freely with SmartIA.",
    analyzeDoc: "Analyze a document",
    analyzeDocHint: "Upload a PDF and ask targeted questions.",
    fullFile: "Get full file",
    fullFileHint: "Ask: " + '"give me full file FILE_NAME"',
    attachedFiles: "Attached files",
    sendMessage: "Send a message...",
    createChatFirst: "Create a new chat first...",
    addFileAria: "Add file",

    accessTitle: "ðŸ”‘ Access",
    accessSubtitle: "Create users and manage all access.",
    addUser: "Add user",
    email: "Email",
    password: "Password",
    active: "Active",
    add: "Add",
    usersList: "All users",
    searchUsers: "Search users",
    userDetails: "User details",
    noUsersFound: "No users found.",
    actions: "Actions",
    edit: "Edit",
    changeRole: "Change role",
    enableAccess: "Enable access",
    disableAccess: "Disable access",
    yes: "Yes",
    no: "No",
    accessConfirm: "Do you want to {action} access for {email}?",
    rolePrompt: "New role: member/admin/visitor",
    emailPrompt: "New email",
    deleteUserConfirm: "Delete {email}?",

    filesManagement: "File management (RAG)",
    searchFiles: "Search files",
    refresh: "Refresh",
    loading: "Loading...",
    file: "File",
    visibility: "Visibility",
    sizeBytes: "Size (bytes)",
    updatedAt: "Updated at",
    noFilesFound: "No files found.",
    renameFilePrompt: "New file name",
    deleteFileConfirm: "Delete file {filename}?",
  },
  de: {
    menuToggle: "MenÃ¼ Ã¶ffnen/schlieÃŸen",
    rag: "RAG",
    chat: "Chat",
    darkMode: "Dunkelmodus",
    lightMode: "Hellmodus",
    roleAdmin: "ADMIN",
    roleMember: "MITGLIED",
    language: "Sprache",
    profile: "Profil",
    settings: "Einstellungen",
    profileMenu: "ProfilmenÃ¼",
    myAccount: "Mein Konto",
    back: "ZurÃ¼ck",
    personalInfo: "PersÃ¶nliche Informationen",
    profileInfo: "Profilinformationen",
    profileInfoHint: "Aktualisiere hier deine persÃ¶nlichen Informationen.",
    firstName: "Vorname",
    lastName: "Nachname",
    street: "StraÃŸe",
    houseNumber: "Hausnummer",
    postalCode: "Postleitzahl",
    loginAction: "Anmelden",
    cancel: "Abbrechen",
    loginError: "Anmeldefehler",
    networkError: "Netzwerk- oder Serverfehler",
    landingHome: "Start",
    landingServices: "Dienstleistungen",
    landingAbout: "Ãœber uns",
    landingContact: "Kontakt",
    landingLogin: "Anmeldung",
    landingHeroTitle: "Willkommen bei SmartIA",
    landingHeroSubtitle: "Dein KI-Assistent, um in Echtzeit zu suchen, zu verstehen und Fragen zu beantworten.",
    landingStart: "Loslegen",
    landingServicesTitle: "Unsere Dienstleistungen",
    landingService1: "Webentwicklung (Front & Back)",
    landingService2: "Software & SaaS-Plattformen",
    landingService3: "Mobile Entwicklung",
    landingService4: "Technische Architektur",
    landingService5: "IT-Sicherheit",
    landingService6: "KI-Analyse & LÃ¶sungen",
    landingService7: "Beratung & Engineering",
    landingService8: "Wartung & Optimierung",
    landingAboutTitle: "Ãœber SmartIA",
    landingAboutP1: "ist ein Unternehmen, das auf KI-LÃ¶sungen, Softwareentwicklung und technologische Begleitung spezialisiert ist.",
    landingAboutP2: "Unsere Mission ist es, Unternehmen mit zuverlÃ¤ssigen, sicheren und innovativen LÃ¶sungen beim digitalen Wandel zu unterstÃ¼tzen.",
    landingStat1: "Jahre Erfahrung",
    landingStat2: "realisierte Projekte",
    landingStat3: "Kundenzufriedenheit",
    landingContactTitle: "Kontaktiere uns",
    landingEmail: "E-Mail",
    landingPhone: "Telefon",
    landingAddress: "Adresse",
    landingRights: "Alle Rechte vorbehalten",
    visitorModalTitle: "Virtueller Assistent",
    visitorGreeting: "Hallo ðŸ‘‹ðŸ»! Wie kann ich dir helfen ðŸ™‚ ?",
    visitorConnectRequired: "Bitte melde dich an, um eine Frage zu stellen.",
    visitorLoading: "Antwort wird erstellt...",
    visitorPlaceholderSmartIA: "Stelle deine Frage zu SmartIAâ€¦",
    visitorPlaceholderQuestion: "Stelle deine Frageâ€¦",

    newChat: "Neuer Chat",
    creating: "Wird erstellt...",
    searchChat: "Chats suchen",
    yourChats: "DEINE CHATS",
    rename: "Umbenennen",
    delete: "LÃ¶schen",
    deleteChatConfirm: "Diesen Chat lÃ¶schen?",
    newTitlePrompt: "Neuer Titel",
    uploadImpossible: "Upload fehlgeschlagen",
    uploadDoneIn: "Datei hochgeladen in",
    addFile: "Datei hinzufÃ¼gen",
    uploadProgress: "Wird hochgeladen...",
    logout: "Abmelden",
    destinationPrompt: "Ziel? Geben Sie public oder private ein",
    destinationInvalid: "UngÃ¼ltiges Ziel. Verwenden Sie public oder private.",
    adminAccess: "Zugriff",
    adminMembers: "Mitglieder",
    adminAdmins: "Administratoren",

    loadMessagesError: "Nachrichten konnten nicht geladen werden",
    uploadFileError: "Datei-Upload fehlgeschlagen",
    serverError: "Serverfehler",
    askHelpTitle: "Wie kann ich Ihnen heute helfen?",
    askHelpSubtitle: "Stellen Sie Fragen zu Ihren Dokumenten oder chatten Sie frei mit SmartIA.",
    analyzeDoc: "Dokument analysieren",
    analyzeDocHint: "Laden Sie ein PDF hoch und stellen Sie gezielte Fragen.",
    fullFile: "Gesamte Datei abrufen",
    fullFileHint: "Fragen Sie: â€žGib mir die vollstÃ¤ndige Datei DATEINAMEâ€œ",
    attachedFiles: "AngehÃ¤ngte Dateien",
    sendMessage: "Nachricht senden...",
    createChatFirst: "Erstellen Sie zuerst einen neuen Chat...",
    addFileAria: "Datei hinzufÃ¼gen",

    accessTitle: "ðŸ”‘ Zugriff",
    accessSubtitle: "Benutzer erstellen und alle Zugriffe verwalten.",
    addUser: "Benutzer hinzufÃ¼gen",
    email: "E-Mail",
    password: "Passwort",
    active: "Aktiv",
    add: "HinzufÃ¼gen",
    usersList: "Alle Benutzer",
    searchUsers: "Benutzer suchen",
    userDetails: "Benutzerdetails",
    noUsersFound: "Keine Benutzer gefunden.",
    actions: "Aktionen",
    edit: "Bearbeiten",
    changeRole: "Rolle Ã¤ndern",
    enableAccess: "Zugriff aktivieren",
    disableAccess: "Zugriff deaktivieren",
    yes: "Ja",
    no: "Nein",
    accessConfirm: "MÃ¶chten Sie den Zugriff fÃ¼r {email} {action}?",
    rolePrompt: "Neue Rolle: member/admin/visitor",
    emailPrompt: "Neue E-Mail",
    deleteUserConfirm: "{email} lÃ¶schen?",

    filesManagement: "Dateiverwaltung (RAG)",
    searchFiles: "Dateien suchen",
    refresh: "Aktualisieren",
    loading: "Wird geladen...",
    file: "Datei",
    visibility: "Sichtbarkeit",
    sizeBytes: "GrÃ¶ÃŸe (Bytes)",
    updatedAt: "Aktualisiert am",
    noFilesFound: "Keine Dateien gefunden.",
    renameFilePrompt: "Neuer Dateiname",
    deleteFileConfirm: "Datei {filename} lÃ¶schen?",
  },
  es: {
    menuToggle: "Abrir/Cerrar menÃº",
    rag: "RAG",
    chat: "Chat",
    darkMode: "Modo oscuro",
    lightMode: "Modo claro",
    roleAdmin: "ADMIN",
    roleMember: "MIEMBRO",
    language: "Idioma",
    profile: "Perfil",
    settings: "ConfiguraciÃ³n",
    profileMenu: "MenÃº de perfil",
    myAccount: "Mi cuenta",
    back: "Volver",
    personalInfo: "InformaciÃ³n personal",
    profileInfo: "InformaciÃ³n del perfil",
    profileInfoHint: "Actualiza tu informaciÃ³n personal aquÃ­.",
    firstName: "Nombre",
    lastName: "Apellido",
    street: "Calle",
    houseNumber: "NÃºmero de casa",
    postalCode: "CÃ³digo postal",
    loginAction: "Iniciar sesiÃ³n",
    cancel: "Cancelar",
    loginError: "Error de inicio de sesiÃ³n",
    networkError: "Error de red o servidor",
    landingHome: "Inicio",
    landingServices: "Servicios",
    landingAbout: "Acerca de",
    landingContact: "Contacto",
    landingLogin: "ConexiÃ³n",
    landingHeroTitle: "Bienvenido a SmartIA",
    landingHeroSubtitle: "Tu asistente inteligente con IA para buscar, comprender y responder tus preguntas en tiempo real.",
    landingStart: "Comenzar",
    landingServicesTitle: "Nuestros servicios",
    landingService1: "Desarrollo Web (Front y Back)",
    landingService2: "Software y Plataformas SaaS",
    landingService3: "Desarrollo MÃ³vil",
    landingService4: "Arquitectura TÃ©cnica",
    landingService5: "Ciberseguridad",
    landingService6: "AnÃ¡lisis y Soluciones IA",
    landingService7: "ConsultorÃ­a e IngenierÃ­a",
    landingService8: "Mantenimiento y OptimizaciÃ³n",
    landingAboutTitle: "Sobre SmartIA",
    landingAboutP1: "es una empresa especializada en soluciones de inteligencia artificial, desarrollo de software y acompaÃ±amiento tecnolÃ³gico.",
    landingAboutP2: "Nuestra misiÃ³n es ayudar a las empresas a aprovechar el potencial digital con soluciones fiables, seguras e innovadoras.",
    landingStat1: "aÃ±os de experiencia",
    landingStat2: "proyectos realizados",
    landingStat3: "satisfacciÃ³n del cliente",
    landingContactTitle: "ContÃ¡ctanos",
    landingEmail: "Email",
    landingPhone: "TelÃ©fono",
    landingAddress: "DirecciÃ³n",
    landingRights: "Todos los derechos reservados",
    visitorModalTitle: "Asistente virtual",
    visitorGreeting: "Â¡Hola ðŸ‘‹ðŸ»! Â¿CÃ³mo puedo ayudarte ðŸ™‚ ?",
    visitorConnectRequired: "Inicia sesiÃ³n para hacer una pregunta.",
    visitorLoading: "Respuesta en curso...",
    visitorPlaceholderSmartIA: "Haz tu pregunta sobre SmartIAâ€¦",
    visitorPlaceholderQuestion: "Haz tu preguntaâ€¦",

    newChat: "Nuevo chat",
    creating: "Creando...",
    searchChat: "Buscar chats",
    yourChats: "TUS CHATS",
    rename: "Renombrar",
    delete: "Eliminar",
    deleteChatConfirm: "Â¿Eliminar este chat?",
    newTitlePrompt: "Nuevo tÃ­tulo",
    uploadImpossible: "Subida imposible",
    uploadDoneIn: "Archivo subido en",
    addFile: "AÃ±adir archivo",
    uploadProgress: "Subiendo...",
    logout: "Cerrar sesiÃ³n",
    destinationPrompt: "Â¿Destino? Escriba public o private",
    destinationInvalid: "Destino invÃ¡lido. Use public o private.",
    adminAccess: "Acceso",
    adminMembers: "Miembros",
    adminAdmins: "Admins",

    loadMessagesError: "No se pueden cargar los mensajes",
    uploadFileError: "Error al subir archivo",
    serverError: "Error del servidor",
    askHelpTitle: "Â¿CÃ³mo puedo ayudarte hoy?",
    askHelpSubtitle: "Haz preguntas sobre tus documentos o conversa libremente con SmartIA.",
    analyzeDoc: "Analizar un documento",
    analyzeDocHint: "Sube un PDF y haz preguntas especÃ­ficas.",
    fullFile: "Obtener archivo completo",
    fullFileHint: "Pide: archivo completo NOMBRE_ARCHIVO.",
    attachedFiles: "Archivos adjuntos",
    sendMessage: "Enviar un mensaje...",
    createChatFirst: "Primero crea un nuevo chat...",
    addFileAria: "AÃ±adir archivo",

    accessTitle: "ðŸ”‘ Acceso",
    accessSubtitle: "Crear usuarios y gestionar todos los accesos.",
    addUser: "Agregar usuario",
    email: "Email",
    password: "ContraseÃ±a",
    active: "Activo",
    add: "Agregar",
    usersList: "Todos los usuarios",
    searchUsers: "Buscar usuarios",
    userDetails: "Detalles del usuario",
    noUsersFound: "No se encontraron usuarios.",
    actions: "Acciones",
    edit: "Editar",
    changeRole: "Cambiar rol",
    enableAccess: "Activar acceso",
    disableAccess: "Desactivar acceso",
    yes: "SÃ­",
    no: "No",
    accessConfirm: "Â¿Quieres {action} el acceso de {email}?",
    rolePrompt: "Nuevo rol: member/admin/visitor",
    emailPrompt: "Nuevo email",
    deleteUserConfirm: "Â¿Eliminar {email}?",

    filesManagement: "GestiÃ³n de archivos (RAG)",
    searchFiles: "Buscar archivos",
    refresh: "Actualizar",
    loading: "Cargando...",
    file: "Archivo",
    visibility: "Visibilidad",
    sizeBytes: "TamaÃ±o (bytes)",
    updatedAt: "Actualizado",
    noFilesFound: "No se encontraron archivos.",
    renameFilePrompt: "Nuevo nombre del archivo",
    deleteFileConfirm: "Â¿Eliminar archivo {filename}?",
  },
};

const LanguageContext = createContext(null);

function format(template, params) {
  return template.replace(/\{(\w+)\}/g, (_, k) => params?.[k] ?? `{${k}}`);
}

export function LanguageProvider({ children }) {
  const [lang, setLang] = useState(localStorage.getItem(STORAGE_KEY) || "fr");

  useEffect(() => {
    localStorage.setItem(STORAGE_KEY, lang);
    document.documentElement.setAttribute("lang", lang);
    document.documentElement.setAttribute("dir", lang === "ar" ? "rtl" : "ltr");
  }, [lang]);

  const value = useMemo(() => ({
    lang,
    setLang,
    t: (key, params) => {
      const dict = messages[lang] || messages.fr;
      const fallback = messages.fr;
      const text = dict[key] ?? fallback[key] ?? key;
      return typeof text === "string" ? format(text, params) : String(text);
    },
  }), [lang]);

  return <LanguageContext.Provider value={value}>{children}</LanguageContext.Provider>;
}

export function useI18n() {
  const ctx = useContext(LanguageContext);
  if (!ctx) {
    throw new Error("useI18n must be used within a LanguageProvider");
  }
  return ctx;
}